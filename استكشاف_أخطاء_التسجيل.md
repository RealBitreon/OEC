# ุฏููู ุงุณุชูุดุงู ุฃุฎุทุงุก ุงูุชุณุฌูู ๐

## ุงููุดููุฉ ุงูุญุงููุฉ
ุฑุณุงูุฉ ุงูุฎุทุฃ: **"ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅูุดุงุก ุงูุญุณุงุจ. ุญุงูู ูุฑุฉ ุฃุฎุฑู."**

## ุฎุทูุงุช ุงูุญู ุงูุณุฑูุน โก

### ุงูุฎุทูุฉ 1: ุชุดุบูู ุณูุฑูุจุช ุงูุฅุตูุงุญ
1. ุงูุชุญ Supabase Dashboard: https://app.supabase.com
2. ุงุฐูุจ ุฅูู **SQL Editor**
3. ุงูุณุฎ ูุงูุตู ูุญุชูู ููู `fix_rls_final.sql`
4. ุงุถุบุท **Run** ุฃู **F5**
5. ุงูุชุธุฑ ุฑุณุงูุฉ ุงููุฌุงุญ โ

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช
ุงูุชุญ Terminal ูู ุงููุดุฑูุน ูุดุบูู:
```bash
npm run dev
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูุชุณุฌูู
1. ุงูุชุญ ุงููุชุตูุญ ุนูู `https://localhost:3000/signup`
2. ุงูุชุญ Developer Tools (F12)
3. ุงุฐูุจ ุฅูู ุชุจููุจ **Console**
4. ุฌุฑุจ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
5. ุฑุงูุจ ุงูุฑุณุงุฆู ูู Console

## ุชุญููู ุงูุฃุฎุทุงุก ุงููุญุชููุฉ ๐

### ุฎุทุฃ 1: Permission Denied (42501)
**ุงูุณุจุจ**: ุณูุงุณุงุช RLS ุชููุน ุงูุฅุฏุฑุงุฌ

**ุงูุญู**:
```sql
-- ุดุบูู ูู Supabase SQL Editor
GRANT INSERT ON student_participants TO anon;
GRANT SELECT ON student_participants TO anon;
```

### ุฎุทุฃ 2: Username Already Exists (23505)
**ุงูุณุจุจ**: ุงุณู ุงููุณุชุฎุฏู ูุณุชุฎุฏู ุจุงููุนู

**ุงูุญู**: ุฌุฑุจ ุงุณู ูุณุชุฎุฏู ูุฎุชูู

### ุฎุทุฃ 3: Connection Error
**ุงูุณุจุจ**: ูุดููุฉ ูู ุงูุงุชุตุงู ุจู Supabase

**ุงูุญู**:
1. ุชุญูู ูู ููู `.env`:
```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

2. ุชุฃูุฏ ูู ุฃู ุงููุดุฑูุน ูู Supabase ูุนูู

### ุฎุทุฃ 4: Invalid Input
**ุงูุณุจุจ**: ุงูุจูุงูุงุช ุงููุฏุฎูุฉ ุบูุฑ ุตุญูุญุฉ

**ุงููุชุทูุจุงุช**:
- ุงุณู ุงููุณุชุฎุฏู: 3-30 ุญุฑู (ุญุฑููุ ุฃุฑูุงูุ _ ููุท)
- ูููุฉ ุงููุฑูุฑ: 8 ุฃุญุฑู ุนูู ุงูุฃูู

## ูุญุต Console Logs ๐

ุนูุฏ ูุญุงููุฉ ุงูุชุณุฌููุ ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู ูู Console:

### ุฑุณุงุฆู ุงููุฌุงุญ โ
```
Username available, creating user...
Password hashed successfully
User created successfully: [user-id]
Cookies set, redirecting to dashboard
```

### ุฑุณุงุฆู ุงูุฎุทุฃ โ
```
ERROR: Username check error
ERROR: Student creation error
ERROR: Permission denied
```

## ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ๐๏ธ

### 1. ูุญุต ุงูุฌุฏูู
```sql
-- ุดุบูู ูู Supabase SQL Editor
SELECT * FROM student_participants LIMIT 5;
```

### 2. ูุญุต ุงูุณูุงุณุงุช
```sql
SELECT 
  policyname,
  cmd,
  roles
FROM pg_policies 
WHERE tablename = 'student_participants';
```

ูุฌุจ ุฃู ุชุฑู:
- โ `allow_public_insert` - ููุฅุฏุฑุงุฌ
- โ `allow_public_select` - ูููุฑุงุกุฉ
- โ `allow_user_update` - ููุชุญุฏูุซ

### 3. ูุญุต ุงูุตูุงุญูุงุช
```sql
SELECT 
  has_table_privilege('anon', 'student_participants', 'INSERT') as can_insert,
  has_table_privilege('anon', 'student_participants', 'SELECT') as can_select;
```

ูุฌุจ ุฃู ูููู ุงููุงุชุฌ:
```
can_insert | can_select
-----------|-----------
true       | true
```

## ุญููู ุจุฏููุฉ ๐

### ุงูุญู 1: ุฅุนุงุฏุฉ ุชุดุบูู ุงููุดุฑูุน
```bash
# ุฃููู ุงูุณูุฑูุฑ (Ctrl+C)
# ุซู ุดุบููู ูุฑุฉ ุฃุฎุฑู
npm run dev
```

### ุงูุญู 2: ูุณุญ Cache ุงููุชุตูุญ
1. ุงูุชุญ Developer Tools (F12)
2. ุงุถุบุท ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ุนูู ุฒุฑ Refresh
3. ุงุฎุชุฑ "Empty Cache and Hard Reload"

### ุงูุญู 3: ุงุณุชุฎุฏุงู Incognito Mode
ุงูุชุญ ุงููุชุตูุญ ูู ูุถุน ุงูุชุตูุญ ุงูุฎุงุต ูุชุฌูุจ ูุดุงูู Cache

## ุงุฎุชุจุงุฑ ูุชูุฏู ๐งช

### ุงุฎุชุจุงุฑ ูุฏูู ูู SQL
```sql
-- ุฌุฑุจ ุฅูุดุงุก ูุณุชุฎุฏู ูุจุงุดุฑุฉ ูู SQL
INSERT INTO student_participants (
  username,
  password_hash,
  role,
  created_at
) VALUES (
  'test_user_' || floor(random() * 1000),
  'test_hash_123',
  'student',
  NOW()
) RETURNING *;
```

ุฅุฐุง ูุฌุญ ูุฐุงุ ุงููุดููุฉ ูู ุงูููุฏ ูููุณ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

## ูุนูููุงุช ุฅุถุงููุฉ ููุฏุนู ๐

ุนูุฏ ุทูุจ ุงููุณุงุนุฏุฉุ ูุฏู:

1. **ุฑุณุงูุฉ ุงูุฎุทุฃ ุงููุงููุฉ** ูู Console
2. **ูุชูุฌุฉ ูุญุต ุงูุณูุงุณุงุช** ูู SQL
3. **ูุณุฎุฉ Next.js**: ุดุบูู `npm list next`
4. **ูุณุฎุฉ Supabase**: ุดุบูู `npm list @supabase/supabase-js`

## ุงููููุงุช ุงููููุฉ ๐

- `app/signup/actions.ts` - ููุทู ุงูุชุณุฌูู
- `app/signup/SignupForm.tsx` - ูุงุฌูุฉ ุงูุชุณุฌูู
- `fix_rls_final.sql` - ุฅุตูุงุญ ุงูุณูุงุณุงุช
- `debug_signup.sql` - ูุญุต ุงููุดุงูู
- `.env` - ุฅุนุฏุงุฏุงุช ุงูุงุชุตุงู

## ูุตุงุฆุญ ุงูููุงูุฉ ๐ก

1. **ูุง ุชุนุฏู ุณูุงุณุงุช RLS ูุฏููุงู** ุฅูุง ุฅุฐุง ููุช ูุชุฃูุฏุงู
2. **ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **ุงุฎุชุจุฑ ูู ุจูุฆุฉ ุงูุชุทููุฑ** ูุจู Production
4. **ุฑุงูุจ Supabase Logs** ุจุงูุชุธุงู

## ุงูุฎุทูุงุช ุงูุชุงููุฉ โจ

ุจุนุฏ ุญู ุงููุดููุฉ:
1. โ ุงุฎุชุจุฑ ุงูุชุณุฌูู ุจุฃุณูุงุก ูุณุชุฎุฏููู ูุฎุชููุฉ
2. โ ุงุฎุชุจุฑ ุชุณุฌูู ุงูุฏุฎูู
3. โ ุชุญูู ูู Dashboard
4. โ ุงุฎุชุจุฑ ุงูุฃุฏูุงุฑ ุงููุฎุชููุฉ (student, manager, admin)

---

**ุขุฎุฑ ุชุญุฏูุซ**: ููุงูุฑ 2026
**ุงูุญุงูุฉ**: ุฌุงูุฒ ููุงุณุชุฎุฏุงู โ
